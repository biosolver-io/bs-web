{
  "version": 3,
  "sources": ["../../../app/routes/profile.education.back.tsx"],
  "sourcesContent": ["import { LoaderArgs, json } from \"@remix-run/node\";\r\nimport { Form, useLoaderData, useSubmit } from \"@remix-run/react\";\r\nimport { useRef, useState } from \"react\";\r\nimport { useForm, useFieldArray } from \"react-hook-form\";\r\nimport countries from \"~/assets/data/countries\";\r\nimport DegreeCard from \"~/components/DegreeCard\";\r\nimport DegreeForm from \"~/components/DegreeForm\";\r\nimport EducationForm from \"~/components/EducationForm\";\r\nimport { prisma } from \"~/db.server\";\r\nimport { getNoteListItems } from \"~/models/note.server\";\r\nimport { requireUserId } from \"~/session.server\";\r\nimport { Degree } from \"~/types.client\";\r\n\r\nexport const loader = async ({ request }: LoaderArgs) => {\r\n  const userId = await requireUserId(request);\r\n  const degrees = await prisma.degree.findMany({\r\n    where: {\r\n      userId\r\n    }\r\n  });\r\n  return json({ degrees });\r\n};\r\n\r\nexport const action = async ({ request }: LoaderArgs) => {\r\n  const userId = await requireUserId(request);\r\n  const formData = await request.formData();\r\n  console.log(formData)\r\n  const degrees = await prisma.degree.findMany({\r\n    where: {\r\n      userId\r\n    }\r\n  });\r\n  return json({ degrees });\r\n}\r\n\r\nexport default function () {\r\n  const [addingDegree, setAddingDegree] = useState(false);\r\n  const { degrees } = useLoaderData<typeof loader>();\r\n\r\n  const { register, watch, control, handleSubmit } = useForm<Degree>();\r\n  const isCurrentlyStudying = watch('currentlyStudying');\r\n\r\n  const formRef = useRef(null);\r\n\r\n  const { fields, append, remove } = useFieldArray({\r\n    control,\r\n    name: 'accomplishments',\r\n  })\r\n\r\n  const submit = useSubmit()\r\n\r\n  return (\r\n    <div className='w-full max-w-4xl mx-auto'>\r\n      {\r\n        degrees.map((degree, index) => (\r\n          <DegreeCard degree={degree} key={index} />\r\n        ))\r\n      }\r\n      {\r\n        !addingDegree && <button onClick={() => {\r\n          setAddingDegree(true);\r\n        }} className='w-full text-center border-gray-400 rounded-md border-dashed border-2 py-5'>\r\n          Add Degree\r\n        </button>\r\n      }\r\n      {\r\n        addingDegree && <Form method=\"post\" onSubmit={\r\n          handleSubmit((data) => {\r\n            console.log(data);\r\n            submit(formRef.current)\r\n          })\r\n        } className=\"mb-4 border-gray-500 border-solid rounded-md p-5 border-2\" ref={formRef}>\r\n          <label htmlFor=\"name\" className=\"block mb-2 font-medium text-gray-700\">\r\n            Degree\r\n          </label>\r\n          <select\r\n            id=\"name\"\r\n            {...register(\"name\", { required: true })}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n          >\r\n            <option value=\"\">Select Degree</option>\r\n            <option value=\"UG Diploma\">UG Diploma</option>\r\n            <option value=\"Bachelors\">Bachelors</option>\r\n            <option value=\"PG Diploma\">PG Diploma</option>\r\n            <option value=\"Professional Degree\">Professional Degree</option>\r\n            <option value=\"Masters\">Masters</option>\r\n            <option value=\"PhD or Doctoral Studies\">PhD or Doctoral Studies</option>\r\n          </select>\r\n\r\n          <div className=\"mb-4\">\r\n            <label htmlFor=\"field\" className=\"block mb-2 font-medium text-gray-700\">\r\n              Field\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"field\"\r\n              {...register(\"field\", { required: true })}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-4\">\r\n            <label htmlFor=\"country\" className=\"block mb-2 font-medium text-gray-700\">\r\n              Country\r\n            </label>\r\n            <select\r\n              id=\"country\"\r\n              {...register(\"country\", { required: true })}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n            >\r\n              <option value=\"\">Select Country</option>\r\n              {\r\n                countries.map((country) => (\r\n                  <option key={country.code} value={country.name}>{country.name}</option>\r\n                ))\r\n              }\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"mb-4\">\r\n            <label htmlFor=\"university\" className=\"block mb-2 font-medium text gray-700\">\r\n              University\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"university\"\r\n              {...register(\"university\", { required: true })}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-4\">\r\n            <label htmlFor=\"started\" className=\"block mb-2 font-medium text-gray-700\">\r\n              Start\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"start\"\r\n              {...register(\"startDate\", { required: true })}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n            />\r\n          </div>\r\n\r\n          {!isCurrentlyStudying && <div className=\"mb-4\">\r\n            <label htmlFor=\"end\" className=\"block mb-2 font-medium text-gray-700\">\r\n              End\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"end\"\r\n              {...register(\"endDate\", { required: true })}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n            />\r\n          </div>}\r\n\r\n          <div className=\"mb-4\">\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"currentlyStudying\"\r\n              {...register(\"currentlyStudying\")}\r\n              className=\"mr-2\"\r\n            />\r\n            <label htmlFor=\"currentlyStudying\" className=\"font-medium text-gray-700\">\r\n              Currently Studying Here\r\n            </label>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            {\r\n              fields.map((field, index) => {\r\n\r\n                return (\r\n                  <div className=\"mb-4\">\r\n                    <label htmlFor=\"accomplishment\" className=\"block mb-2 font-medium text-gray-700\">\r\n                      Accomplishment {index + 1}\r\n                    </label>\r\n                    <select\r\n                      id=\"type\"\r\n                      {...register(`accomplishments.${index}.type`, { required: true })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n                    >\r\n                      <option value=\"\">Select Accomplishment</option>\r\n                      <option value=\"Thesis\">Thesis</option>\r\n                      <option value=\"Patent\">Patent</option>\r\n                      <option value=\"Published Work\">Published Work</option>\r\n                    </select>\r\n\r\n                    {\r\n                      field.type === 'Thesis' && (\r\n                        <div className=\"mb-4\">\r\n                          <label htmlFor=\"title\" className=\"block mb-2 font-medium text-gray-700\">\r\n                            Title\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            id=\"title\"\r\n                            {...register(`accomplishments.${index}.title`, { required: true })}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n                          />\r\n                        </div>\r\n                      )\r\n                    }\r\n\r\n                    {\r\n                      field.type === 'Patent' && (\r\n                        <div className=\"mb-4\">\r\n                          <label htmlFor=\"title\" className=\"block mb-2 font-medium text-gray-700\">\r\n                            Title\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            id=\"title\"\r\n                            {...register(`accomplishments.${index}.title`, { required: true })}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n                          />\r\n                        </div>\r\n                      )\r\n                    }\r\n\r\n                    {\r\n                      field.type === 'Published Work' && (\r\n                        <div className=\"mb-4\">\r\n                          <label htmlFor=\"title\" className=\"block mb-2 font-medium text-gray-700\">\r\n                            Title\r\n                          </label>\r\n                          <input\r\n                            type=\"text\"\r\n                            id=\"title\"\r\n                            {...register(`accomplishments.${index}.title`, { required: true })}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n                          />\r\n                        </div>\r\n                      )\r\n                    }\r\n                  </div>\r\n                )\r\n              })\r\n            }\r\n            <button onClick={() => append({}, {\r\n              shouldFocus: true,\r\n            })} className='w-full text-center border-gray-400 rounded-md border-dashed border-2 py-5'>\r\n              Add an Accomplishment\r\n            </button>\r\n            <button type='submit' className='w-full text-center border-gray-400 rounded-md border-solid border-2 py-5'>\r\n              Save\r\n            </button>\r\n          </div>\r\n        </Form>\r\n      }\r\n    </div>\r\n  )\r\n}"],
  "mappings": "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",
  "names": ["import_react"]
}
